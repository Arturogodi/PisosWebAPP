{% extends "hello/layout.html" %}

{% block title %}
    Modelo Idealista
{% endblock %}

{% block content %}
    <h2>Formulario para crear propiedad</h2>
    <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Crear propiedad</button>
    </form>

    {% if propiedad_creada %}
        <h3>Propiedad creada</h3>
        <ul>
            <li><strong>ID:</strong> {{ propiedad_creada.id }}</li>
            <li><strong>Tipo:</strong> {{ propiedad_creada.tipo }}</li>
            <li><strong>Metros:</strong> {{ propiedad_creada.metros }}</li>
            <li><strong>Ba√±os:</strong> {{ propiedad_creada.banos }}</li>
            <li><strong>Estado:</strong> {{ propiedad_creada.estado }}</li>
        </ul>
    {% endif %}

    <hr/>

    <!-- Mostrar el mapa generado por Folium -->
    <div id="mapa">
        <h3>Mapa centrado en la propiedad</h3>
        <iframe src="{{ mapa_path }}" width="100%" height="400" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
    </div>

{% endblock %}
